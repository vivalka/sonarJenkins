pipeline
{
   agent any
   stages
   {
     stage("scm checkout")
	 {
	 steps
		{
			git branch:'master' ,url: 'https://github.com/vivalka/maven-project'
		}
	 }
	 
	 
	 stage("test")
	 {
	 steps
		{
			withMaven(jdk: 'jdkLocal-8', maven: 'localMaven') 
			{
			withSonarQubeEnv(credentialsId: 'jenkinssonar') {
					sh 'mvn clean sonar:sonar package'
}
					
					
			}
		}
	 }
	 
	 
	
   }
   
}
